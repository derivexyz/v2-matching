pragma solidity ^0.8.20;

import "../scripts/config/config.sol";
import "./ForkBase.t.sol";
import "forge-std/console.sol";

import "forge-std/console2.sol";
import "openzeppelin/access/Ownable2Step.sol";
import "v2-core/scripts/types.sol";
import "v2-core/src/l2/LyraERC20.sol";
import "v2-core/src/risk-managers/PMRM.sol";
import "v2-core/src/risk-managers/SRMPortfolioViewer.sol";
import "v2-core/src/risk-managers/StandardManager.sol";
import {MockSpotDiffFeed} from "v2-core/test/shared/mocks/MockSpotDiffFeed.sol";
import "v2-core/src/feeds/LyraForwardFeed.sol";
import {TradeModule} from "../src/modules/TradeModule.sol";
import {WLWrappedERC20Asset} from "v2-core/src/assets/WLWrappedERC20Asset.sol";

struct UserOperation {
  address sender;
  uint256 nonce;
  bytes initCode;
  bytes callData;
  uint256 callGasLimit;
  uint256 verificationGasLimit;
  uint256 preVerificationGas;
  uint256 maxFeePerGas;
  uint256 maxPriorityFeePerGas;
  bytes paymasterAndData;
  bytes signature;
}

interface IEntryPoint {
  function handleOps(UserOperation[] calldata ops, address payable beneficiary) external;
}


contract SimulateUserOp is ForkBase {
  function setUp() external {}

  function testFork() external checkFork {
    IEntryPoint entryPoint = IEntryPoint(address(0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789));
    //   "params": [
    //    {
    //      "initCode": "0x000000893A26168158fbeaDD9335Be5bC96592E25fbfb9cf0000000000000000000000002975b8e30ec64c1855dd94e1a8ecd435a323a9b00000000000000000000000000000000000000000000000000000000000000000",
    //      "sender": "0xFe253598A960A07DCE9de3b3213260c0Cf532f15",
    //      "nonce": "0x0",
    //      "callData": "0x47e1da2a000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000006a00000000000000000000000000000000000000000000000000000000000000ce00000000000000000000000000000000000000000000000000000000000000031000000000000000000000000eb8d770ec18db98db922e9d83260a585b9f0dead0000000000000000000000007b35b4c05a90ea5f311aec815be4148b446a68a20000000000000000000000007b35b4c05a90ea5f311aec815be4148b446a68a2000000000000000000000000c419959850d49166c2d5250ee89ff9910679d8c8000000000000000000000000c419959850d49166c2d5250ee89ff9910679d8c8000000000000000000000000c47e2e800a9184cfbd274ac1eecccdf942715db7000000000000000000000000c47e2e800a9184cfbd274ac1eecccdf942715db7000000000000000000000000b82d12742c3728a14eaa43ebe1c0d32bb62216eb000000000000000000000000b82d12742c3728a14eaa43ebe1c0d32bb62216eb000000000000000000000000b56d58ce246c31c4d3a3bfb354996ff28d081db7000000000000000000000000b56d58ce246c31c4d3a3bfb354996ff28d081db70000000000000000000000007215a841215cfccac7f0894f5f194e8faa6e58440000000000000000000000007215a841215cfccac7f0894f5f194e8faa6e58440000000000000000000000001569e57b9e1da866f9b862acd8b134ea16b234f50000000000000000000000001569e57b9e1da866f9b862acd8b134ea16b234f500000000000000000000000036b5c126a3d7b25f6032653a0d18823ee48a890e00000000000000000000000036b5c126a3d7b25f6032653a0d18823ee48a890e0000000000000000000000001ea87f372285409425771f19eb7938b427dab1480000000000000000000000001ea87f372285409425771f19eb7938b427dab1480000000000000000000000004d4e6761d2d8d5adca3646987970d63c00704eb50000000000000000000000004d4e6761d2d8d5adca3646987970d63c00704eb500000000000000000000000030f85847f9f17f219a9a21b93396a3b2eaea500f00000000000000000000000030f85847f9f17f219a9a21b93396a3b2eaea500f000000000000000000000000cfb66706ae87f60120af42f07ec8940be44a34d6000000000000000000000000cfb66706ae87f60120af42f07ec8940be44a34d60000000000000000000000007755c4529017ca8069f57b19e450ffaf128048a60000000000000000000000007755c4529017ca8069f57b19e450ffaf128048a6000000000000000000000000cd6a5dcb5a9b5e4801ac50f3e9171a80017d1ec2000000000000000000000000cd6a5dcb5a9b5e4801ac50f3e9171a80017d1ec2000000000000000000000000a30ab68436d26b3c6c303b777354105055fc3a30000000000000000000000000a30ab68436d26b3c6c303b777354105055fc3a300000000000000000000000006879287835a86f50f784313dbed5e5ccc5bb84810000000000000000000000006879287835a86f50f784313dbed5e5ccc5bb848100000000000000000000000015cecd5190a43c7798dd2058308781d0662e678e00000000000000000000000015cecd5190a43c7798dd2058308781d0662e678e0000000000000000000000009b80ab732a6f1030326af0014f106e12c4db18ec0000000000000000000000009b80ab732a6f1030326af0014f106e12c4db18ec000000000000000000000000954be1803546150bfd887c9ff70fd221f2f505d3000000000000000000000000954be1803546150bfd887c9ff70fd221f2f505d3000000000000000000000000df77b286eda539ccb6326e9edb86aa69d83108a5000000000000000000000000df77b286eda539ccb6326e9edb86aa69d83108a50000000000000000000000002ee0fd70756edc663acc9676658a1497c247693a0000000000000000000000002ee0fd70756edc663acc9676658a1497c247693a0000000000000000000000007499d654422023a407d92e1d83d387d81bc68de10000000000000000000000007499d654422023a407d92e1d83d387d81bc68de10000000000000000000000001fe488c69f895bff7fc5c4c187380d25854aa7d60000000000000000000000001fe488c69f895bff7fc5c4c187380d25854aa7d60000000000000000000000006879287835a86f50f784313dbed5e5ccc5bb8481000000000000000000000000a44e56a6f53b2e27278b468783fe9de6b037e147000000000000000000000000000000000000000000000000000000000000003100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000031000000000000000000000000000000000000000000000000000000000000062000000000000000000000000000000000000000000000000000000000000006a0000000000000000000000000000000000000000000000000000000000000072000000000000000000000000000000000000000000000000000000000000007a0000000000000000000000000000000000000000000000000000000000000082000000000000000000000000000000000000000000000000000000000000008a0000000000000000000000000000000000000000000000000000000000000092000000000000000000000000000000000000000000000000000000000000009a00000000000000000000000000000000000000000000000000000000000000a200000000000000000000000000000000000000000000000000000000000000aa00000000000000000000000000000000000000000000000000000000000000b200000000000000000000000000000000000000000000000000000000000000ba00000000000000000000000000000000000000000000000000000000000000c200000000000000000000000000000000000000000000000000000000000000ca00000000000000000000000000000000000000000000000000000000000000d200000000000000000000000000000000000000000000000000000000000000da00000000000000000000000000000000000000000000000000000000000000e200000000000000000000000000000000000000000000000000000000000000ea00000000000000000000000000000000000000000000000000000000000000f200000000000000000000000000000000000000000000000000000000000000fa0000000000000000000000000000000000000000000000000000000000000102000000000000000000000000000000000000000000000000000000000000010a0000000000000000000000000000000000000000000000000000000000000112000000000000000000000000000000000000000000000000000000000000011a0000000000000000000000000000000000000000000000000000000000000122000000000000000000000000000000000000000000000000000000000000012a0000000000000000000000000000000000000000000000000000000000000132000000000000000000000000000000000000000000000000000000000000013a0000000000000000000000000000000000000000000000000000000000000142000000000000000000000000000000000000000000000000000000000000014a0000000000000000000000000000000000000000000000000000000000000152000000000000000000000000000000000000000000000000000000000000015a0000000000000000000000000000000000000000000000000000000000000162000000000000000000000000000000000000000000000000000000000000016a0000000000000000000000000000000000000000000000000000000000000172000000000000000000000000000000000000000000000000000000000000017a0000000000000000000000000000000000000000000000000000000000000182000000000000000000000000000000000000000000000000000000000000018a0000000000000000000000000000000000000000000000000000000000000192000000000000000000000000000000000000000000000000000000000000019a00000000000000000000000000000000000000000000000000000000000001a200000000000000000000000000000000000000000000000000000000000001aa00000000000000000000000000000000000000000000000000000000000001b200000000000000000000000000000000000000000000000000000000000001ba00000000000000000000000000000000000000000000000000000000000001c200000000000000000000000000000000000000000000000000000000000001ca00000000000000000000000000000000000000000000000000000000000001d200000000000000000000000000000000000000000000000000000000000001da00000000000000000000000000000000000000000000000000000000000001e20000000000000000000000000000000000000000000000000000000000000004447a90d4400000000000000000000000082bf4a7a6de453688ff214e42e21d0f5a9e2410b000000000000000000000000000000000000000000000000000000006a009340000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a179c3b32d3ee58353d3f277b32d1e03dd33ffcaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a179c3b32d3ee58353d3f277b32d1e03dd33ffcaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a179c3b32d3ee58353d3f277b32d1e03dd33ffcaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a179c3b32d3ee58353d3f277b32d1e03dd33ffcaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a179c3b32d3ee58353d3f277b32d1e03dd33ffcaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a179c3b32d3ee58353d3f277b32d1e03dd33ffcaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a179c3b32d3ee58353d3f277b32d1e03dd33ffcaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a179c3b32d3ee58353d3f277b32d1e03dd33ffcaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a179c3b32d3ee58353d3f277b32d1e03dd33ffcaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a179c3b32d3ee58353d3f277b32d1e03dd33ffcaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a179c3b32d3ee58353d3f277b32d1e03dd33ffcaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a179c3b32d3ee58353d3f277b32d1e03dd33ffcaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a179c3b32d3ee58353d3f277b32d1e03dd33ffcaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a179c3b32d3ee58353d3f277b32d1e03dd33ffcaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a179c3b32d3ee58353d3f277b32d1e03dd33ffcaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a179c3b32d3ee58353d3f277b32d1e03dd33ffcaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a179c3b32d3ee58353d3f277b32d1e03dd33ffcaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a179c3b32d3ee58353d3f277b32d1e03dd33ffcaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a179c3b32d3ee58353d3f277b32d1e03dd33ffcaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a179c3b32d3ee58353d3f277b32d1e03dd33ffcaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009400cc156dad38a716047a67c897973a29a06710ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009400cc156dad38a716047a67c897973a29a06710ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000009b3fe5e5a3bcea5df4e08c41ce89c4e3ff01ace3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a179c3b32d3ee58353d3f277b32d1e03dd33ffcaffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000a44e56a6f53b2e27278b468783fe9de6b037e147ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000064c20818d800000000000000000000000057b03e14d409adc7fab6cfc44b5886cad2d5f02b00000000000000000000000000000000000000000000000000000006f3baaa2900000000000000000000000028c9ddf9a3b29c2e6a561c1bc520954e5a33de5d00000000000000000000000000000000000000000000000000000000",
    //      "signature": "0x9c1a614697a5bd9ee98a52bdcac4a6eb6e13575aaa5a8440850bb07a3aa3eefb268ce15188578f9cebcb840177de7052ec42ac5f2d1cffa586e4d8d767d093d601",
    //      "paymasterAndData": "0xa179c3b32d3eE58353d3F277b32D1e03DD33fFCA00000000000000000000000000000000000000000000000000000000689df03a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f700a6b7b399864fb92a99fce17916d41a26ac2c7e95370e244c5e376faf3b23079331c1b7c1836075a589a6095094357f4c58982324051cdcca13520b1082431b",
    //      "maxFeePerGas": "0xf436c",
    //      "maxPriorityFeePerGas": "0xf4240",
    //      "callGasLimit": "0x1b5bb8",
    //      "verificationGasLimit": "0x504b6",
    //      "preVerificationGas": "0x419f08"
    //    },
    //    "0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789"
    //  ]

    // {"method":"eth_sendUserOperation","params":[
    // {"initCode":"0x000000893A26168158fbeaDD9335Be5bC96592E25fbfb9cf00000000000000000000000080147b43bb7a0496b6e26dbd0642fdf9b8b7dcb50000000000000000000000000000000000000000000000000000000000000000",
    // "sender":"0x3B9EA2EF38A4d9863844e73b05A3bfA62c57FceB",
    // "nonce":"0x0",
    // "callData":"0x47e1da2a000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000000010000000000000000000000003cc154e220c2197c5337b7bd13363dd127bc0c6e0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000004447a90d440000000000000000000000000431aa26bd5c7eae22ee960f17038b056a6fb1d6000000000000000000000000000000000000000000000000000000006a896a6800000000000000000000000000000000000000000000000000000000",
    // "signature":"0x59247efe0b52cc393fea4e103412106066bdf081d6bcb78d5b79a81bfabc911516f45963e984dfef13d04d5e4b1fb950c16f932094139ada03f2a3319cb3d86a1c","
    // paymasterAndData":"0x5a6499b442711feeA0Aa73C6574042EC5E2e594500000000000000000000000000000000000000000000000000000000692575e20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006b06abe2952fa8aa1235c892eea85085796e2d2eaa610876d274895ebd65d3fe4a9411d3b5ef17f1bec8cc0492ba7bb6b01cd346f05a8c971ef7ed00b33adbab1c",
    // "maxFeePerGas":"0xf436c","maxPriorityFeePerGas":"0xf4240","callGasLimit":"0x83bb","verificationGasLimit":"0x4b698","preVerificationGas":"0x188b8"},
    // "0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789"]}

    bytes memory signature = hex"59247efe0b52cc393fea4e103412106066bdf081d6bcb78d5b79a81bfabc911516f45963e984dfef13d04d5e4b1fb950c16f932094139ada03f2a3319cb3d86a1c";
    bytes memory paymasterAndData = hex"5a6499b442711feeA0Aa73C6574042EC5E2e594500000000000000000000000000000000000000000000000000000000692575e20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006b06abe2952fa8aa1235c892eea85085796e2d2eaa610876d274895ebd65d3fe4a9411d3b5ef17f1bec8cc0492ba7bb6b01cd346f05a8c971ef7ed00b33adbab1c";
    bytes memory callData = hex"47e1da2a000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000000010000000000000000000000003cc154e220c2197c5337b7bd13363dd127bc0c6e0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000004447a90d440000000000000000000000000431aa26bd5c7eae22ee960f17038b056a6fb1d6000000000000000000000000000000000000000000000000000000006a896a6800000000000000000000000000000000000000000000000000000000";
    bytes memory initCode = hex"000000893A26168158fbeaDD9335Be5bC96592E25fbfb9cf00000000000000000000000080147b43bb7a0496b6e26dbd0642fdf9b8b7dcb50000000000000000000000000000000000000000000000000000000000000000";

    UserOperation memory userOp = UserOperation({
      sender: payable(0x3B9EA2EF38A4d9863844e73b05A3bfA62c57FceB),
      nonce: 0,
      initCode: initCode,
      callData: callData,
      callGasLimit: 0x83bb,
      verificationGasLimit: 0x4b698,
      preVerificationGas: 0x188b8,
      maxFeePerGas: 0xf436c,
      maxPriorityFeePerGas: 0xf4240,
      paymasterAndData: paymasterAndData,
      signature: signature
    });

    UserOperation[] memory userOps = new UserOperation[](1);
    userOps[0] = userOp;

    entryPoint.handleOps(
      userOps,
      payable(0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789)
    );
    //

//    bytes memory signature = hex"fffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c";
//    bytes memory paymasterAndData = hex"5a6499b442711feeA0Aa73C6574042EC5E2e59450000000000000000000000000000000000000000000000000000000068c9c2ca000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffffffffffffffffffffffffffff0000000000000000000000000000000000aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaabb1c";
//    bytes memory callData = hex"47e1da2a000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000893a26168158fbeadd9335be5bc96592e20000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000004447a90d44000000000000000000000000eaf429ecb61e76e9f3c2caf3c3d0c5a65a8999a40000000000000000000000000000000000000000000000000000000068c9d06200000000000000000000000000000000000000000000000000000000";
//    bytes memory initCode = new bytes(0); //hex"";
//
//    UserOperation memory userOp = UserOperation({
//      sender: payable(0xFe253598A960A07DCE9de3b3213260c0Cf532f15),
//      nonce: 0,
//      initCode: initCode,
//      callData: callData,
//      callGasLimit: 0x1b5bb8,
//      verificationGasLimit: 0x504b6,
//      preVerificationGas: 0x419f08,
//      maxFeePerGas: 0xf436c,
//      maxPriorityFeePerGas: 0xf4240,
//      paymasterAndData: paymasterAndData,
//      signature: signature
//    });
//
//    UserOperation[] memory userOps = new UserOperation[](1);
//    userOps[0] = userOp;
//
//    entryPoint.handleOps(
//      userOps,
//      payable(0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789)
//    );
  }
}
